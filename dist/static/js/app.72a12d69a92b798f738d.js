webpackJsonp([0],[function(e,t,n){"use strict";var s=n(26),a=n.n(s);a.a.init({appId:"be0B7Hrmn2ek9qx7d8yFK5eP-gzGzoHsz",appKey:"m4dplgRGaxNu2khXIWPA6ewS"}),t.a=a.a},,function(e,t,n){"use strict";var s=n(0);t.a=function(e){var t=s.a.User.current();if(t){return{id:t.id,username:t.attributes.username}}return!1}},,function(e,t,n){"use strict";var s={202:"用户名已存在",210:"用户名或密码错误",211:"该用户名不存在",217:"无效的用户名",unkown:"未知错误，稍后重试"};t.a=function(e){var t=e.code;return s[t]?s[t]:s.unknown}},,function(e,t,n){"use strict";var s=n(3),a=n(37),o=n(28),r=n.n(o);s.a.use(a.a),t.a=new a.a({routes:[{path:"/",name:"Hello",component:r.a}]})},function(e,t,n){n(22);var s=n(1)(n(8),n(35),null,null);e.exports=s.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(29),o=n.n(a),r=n(30),i=n.n(r),u=n(31),c=n.n(u),l=n(2),d=n(14),v=n(13);t.default={name:"app",data:function(){return{newTodo:"",todoList:[],actionType:"none",isSignIn:!1,user:{}}},components:{MyDialog:o.a,SignInForm:i.a,SignUpForm:c.a},created:function(){s.a.User.current()&&(this.initUser(n.i(l.a)()),this.readTodos())},methods:{readTodos:function(){var e=this;n.i(v.a)().then(function(t){t?(e.todoList=t.content,e.user.objId=t.objId,console.log("User id:",e.user.id),console.log("Obj id:",e.user.objId)):console.log("未读取到信息")},function(e){console.error("something wrong",e)})},handleTodos:function(){var e=this;n.i(d.a)(this.todoList,this.user.objId).then(function(t){e.user.objId=t.id,console.log("success,obj-id:",e.user.objId)},function(e){console.error("fail")})},addTodo:function(e){var t=new Date,n={title:this.newTodo,createTime:{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes()+1},done:!1};this.todoList.push(n),this.newTodo="",this.handleTodos()},delTodo:function(e){var t=this.todoList.indexOf(e);this.todoList.splice(t,1),this.handleTodos()},initUser:function(e){var t=e.id,n=e.username;this.isSignIn=!0,this.user.id=t,this.user.username=n,this.actionType="none",this.readTodos()},logOut:function(){s.a.User.logOut(),this.user={},window.location.reload()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MyDialog",props:["title","visible"],methods:{close:function(){this.$emit("close")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(4),o=n(2);t.default={name:"SignInForm",data:function(){return{formData:{username:"",password:""},errorMessage:""}},methods:{signIn:function(){var e=this,t=this.formData,r=t.username,i=t.password;s.a.User.logIn(r,i).then(function(){e.$emit("success",n.i(o.a)())},function(t){e.errorMessage=n.i(a.a)(t)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=n(2),o=n(4);t.default={name:"SignUpForm",data:function(){return{formData:{username:"",password:""},errorMessage:""}},created:function(){},methods:{signUp:function(){var e=this,t=this.formData,r=t.username,i=t.password,u=new s.a.User;u.setUsername(r),u.setPassword(i),u.signUp().then(function(){s.a.User.logIn(r,i)},function(t){e.errorMessage=n.i(o.a)(t)}).then(function(){e.$emit("success",n.i(a.a)())},function(t){e.errorMessage=n.i(o.a)(t)})}}}},function(e,t,n){"use strict";var s=n(0);t.a=function(){return new s.a.Query("MyTodos").find().then(function(e){return!!(e=e[0])&&{content:JSON.parse(e.attributes.content),objId:e.id}},function(e){console.log("something wrong in reading:",e)})}},function(e,t,n){"use strict";var s=n(16),a=n.n(s),o=n(0);t.a=function(e,t){var n=a()(e),s=void 0;if(t)s=o.a.Object.createWithoutData("MyTodos",t),console.log("Updating");else{var r=new o.a.ACL;r.setReadAccess(o.a.User.current(),!0),r.setWriteAccess(o.a.User.current(),!0);s=new(o.a.Object.extend("MyTodos")),s.setACL(r),console.log("Saving")}return s.set("content",n),s.save()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),a=n(7),o=n.n(a),r=n(6);s.a.config.productionTip=!1,new s.a({el:"#app",router:r.a,template:"<App/>",components:{App:o.a}})},,,,,,function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t,n){n(23);var s=n(1)(n(9),n(36),"data-v-f3f07b5e",null);e.exports=s.exports},function(e,t,n){n(21);var s=n(1)(n(10),n(32),"data-v-35a08165",null);e.exports=s.exports},function(e,t,n){var s=n(1)(n(11),n(34),null,null);e.exports=s.exports},function(e,t,n){var s=n(1)(n(12),n(33),null,null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"dialogWrapper"},[n("div",{staticClass:"dialog"},[n("header",[e._v(e._s(e.title)+"\n            "),n("span",{staticClass:"close",on:{click:e.close}},[e._v("X")])]),e._v(" "),n("main",[e._t("default",[n("p",[e._v("出错了")]),e._v(" "),n("button",[e._v("关闭")])])],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){t.preventDefault(),e.signUp(t)}}},[n("div",{staticClass:"row"},[n("label",{attrs:{for:""}},[e._v("用户名")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",required:""},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||(e.formData.username=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"row"},[n("label",{attrs:{for:""}},[e._v("密码")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",required:""},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||(e.formData.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"actions"},[n("input",{attrs:{type:"submit",value:"提交"}}),e._v(" "),n("span",{staticClass:"errorMessage"},[e._v(e._s(e.errorMessage))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{submit:function(t){t.preventDefault(),e.signIn(t)}}},[n("div",{staticClass:"row"},[n("label",{attrs:{for:""}},[e._v("用户名")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",required:""},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||(e.formData.username=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"row"},[n("label",{attrs:{for:""}},[e._v("密码")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",required:""},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||(e.formData.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"actions"},[n("input",{attrs:{type:"submit",value:"提交"}}),e._v(" "),n("span",{staticClass:"errorMessage"},[e._v(e._s(e.errorMessage))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("div",{staticClass:"layout"},[e.isSignIn?n("div",{staticClass:"logIn"},[n("span",[e._v(e._s(e.user.username))]),e._v(" "),n("span",{staticClass:"btn",on:{click:e.logOut}},[e._v("登出")])]):n("div",{staticClass:"logOut"},[n("span",{staticClass:"btn",on:{click:function(t){e.actionType="signUp"}}},[e._v("注册")]),e._v(" "),n("span",{staticClass:"btn",on:{click:function(t){e.actionType="signIn"}}},[e._v("登录")])])])]),e._v(" "),n("div",{staticClass:"layout"},[n("MyDialog",{attrs:{title:"注册",visible:"signUp"===e.actionType},on:{close:function(t){e.actionType="none"}}},[n("SignUpForm",{on:{success:function(t){e.initUser(t)}}})],1),e._v(" "),n("MyDialog",{attrs:{title:"登录",visible:"signIn"===e.actionType},on:{close:function(t){e.actionType="none"}}},[n("SignInForm",{on:{success:function(t){e.initUser(t)}}})],1),e._v(" "),n("section",{attrs:{id:"todo"}},[n("header",[n("h1",{attrs:{id:"header"}},[e._v("清单")]),e._v(" "),n("div",{attrs:{id:"newTask"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodo,expression:"newTodo"}],attrs:{type:"text",placeholder:"输入待办事项"},domProps:{value:e.newTodo},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.addTodo(t)},input:function(t){t.target.composing||(e.newTodo=t.target.value)}}}),e._v(" "),n("button",{on:{click:e.addTodo}},[e._v("添加")])])]),e._v(" "),n("ol",{attrs:{id:"todos"}},e._l(e.todoList,function(t){return n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.done,expression:"todo.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.done)?e._i(t.done,null)>-1:t.done},on:{change:e.handleTodos,__c:function(n){var s=t.done,a=n.target,o=!!a.checked;if(Array.isArray(s)){var r=e._i(s,null);o?r<0&&(t.done=s.concat(null)):r>-1&&(t.done=s.slice(0,r).concat(s.slice(r+1)))}else t.done=o}}}),e._v(" "),n("span",{staticClass:"todo-title"},[e._v(e._s(t.title))]),e._v(" "),t.done?n("span",{staticClass:"done-or-not"},[e._v("（已完成）")]):n("span",{staticClass:"done-or-not"}),e._v(" "),n("span",{staticClass:"created-time"},[e._v("创建于"+e._s(t.createTime.month)+"月"+e._s(t.createTime.day)+"日"+e._s(t.createTime.hour)+"时"+e._s(t.createTime.minute)+"分")]),e._v(" "),n("div",{staticClass:"remove",on:{click:function(n){e.delTodo(t)}}},[e._v("移除")])])}))])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._v(" "),n("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),n("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Core Docs")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("Forum")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[e._v("Gitter Chat")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("Twitter")])]),e._v(" "),n("br"),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("Docs for This Template")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[e._v("vue-router")])]),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[e._v("vuex")])]),e._v(" "),n("li",[n("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[e._v("vue-loader")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[e._v("awesome-vue")])])])}]}}],[15]);
//# sourceMappingURL=app.72a12d69a92b798f738d.js.map