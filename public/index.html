<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <link href="index.css" rel="stylesheet" type="text/css">
    <title>todoList</title>
</head>
<body>
    <div id="app">
        <div id="nav">
            <div class="layout">
                <div class="logIn" v-if="currentUser">
                    <span>{{currentUser.username}}</span>
                    <span id="logOut" v-on:click="logOut">登出</span>
                </div>
                <div class="logOut" v-else>
                    <span>未登录</span>
                </div>
            </div>
        </div>
        <div class="layout">
            <section id="sign" v-if="!currentUser">
                <div>
                    <label for="UserName"><input type="radio" name="type" id="UserName" value="signUp" v-model="actionType">注册</label>
                    <label for="Password"><input type="radio" name="type" id="Password" value="signIn" v-model="actionType">登录</label>
                </div>
                <div class="signUp" v-if="actionType=='signUp'">
                    <form v-on:submit.prevent=signUp>
                        <div class="formRow">
                            <span>用户名：</span>
                            <input type="text" v-model="formData.username">
                        </div>
                        <div class="formRow">
                            <span>密码：</span>
                            <input type="password" v-model="formData.password">
                        </div>
                        <div class="formActions">
                            <input type="submit" value="注册">
                        </div>
                    </form>
                </div>
                <div class="signIn" v-if="actionType=='signIn'">
                    <form v-on:submit.prevent=signIn>
                        <div class="formRow">
                            <span>用户名：</span>
                            <input type="text" v-model="formData.username">
                        </div>
                        <div class="formRow">
                            <span>密码：</span>
                            <input type="password" v-model="formData.password">
                        </div>
                        <div class="formActions">
                            <input type="submit" value="登录">
                        </div>
                    </form>
                </div>
            </section>
            <section id="todo" v-if="currentUser"> 
            <header>
                <h1 id="header">清单</h1>
                <div id="newTask">
                    <input type="text" placeholder="输入待办事项" v-model="newTodo" v-on:keyup.enter="addTodo">
                    <button v-on:click="addTodo">添加</button>
                </div>
            </header>       
                <ol id="todos">
                    <li v-for="todo in todoList">
                        <input type="checkbox" v-model="todo.done">
                        <span class="todo-title">{{todo.title}}</span>
                        <span class="done-or-not" v-if="todo.done">（已完成）</span>
                        <span class="done-or-not" v-else></span>
                        <span class="created-time">创建于{{todo.createTime.month}}月{{todo.createTime.day}}日{{todo.createTime.hour}}时{{todo.createTime.minute}}分</span>
                        <div v-on:click="delTodo(todo)" class="remove">移除</div>
                    </li>
                </ol>
            </section>
        </div>
    </div>
    <script src="bundle.js"></script>
</body>
</html>